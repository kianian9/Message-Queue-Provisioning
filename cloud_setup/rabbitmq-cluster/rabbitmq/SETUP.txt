1) Deploying the CoreOS Prometheus Operator
    curl -s https://raw.githubusercontent.com/coreos/prometheus-operator/master/bundle.yaml | sed -e '/[[:space:]]*namespace: [a-zA-Z0-9-]*$/s/namespace:[[:space:]]*[a-zA-Z0-9-]*$/namespace: default/' > prometheus-operator-deployment.yaml

2) Install Prometheus Operator:
    kubectl apply -f prometheus-operator-deployment.yaml

3) 

kubectl apply -f kafka/prometheus-operator-deployment.yaml -n kafka

kubectl apply -f kafka/prometheus-additional.yaml -n kafka

kubectl apply -f kafka/strimzi-pod-monitor.yaml -n kafka

kubectl apply -f kafka/prometheus-rules.yaml -n kafka

kubectl apply -f kafka/prometheus.yaml -n kafka

kubectl apply -f kafka/grafana.yaml -n kafka


http://prometheus-operated:9090/





1) kubectl apply -f rabbitmq/prometheus-operator-deployment.yaml
2) kubectl apply -f rabbitmq/prometheus-roles.yaml
3) kubectl apply -f rabbitmq/prometheus.yaml
4) kubectl apply -f rabbitmq/prometheus-service.yaml (Kanske kan skippas..)
5) kubectl apply -f rabbitmq/rabbitmq-pod-monitor.yaml
5) kubectl apply -f rabbitmq/grafana.yaml


https://www.magalix.com/blog/monitoring-of-kubernetes-cluster-through-prometheus-and-grafana

helm install prometheus stable/prometheus-operator --namespace prometheus --set prometheusOperator.enabled=false
helm install prometheus stable/prometheus-operator --namespace prometheus --set prometheusOperator.enabled=false > /dev/null 2>&1
https://stackoverflow.com/questions/65145328/multiple-prometheus-instances-with-single-prometheus-operator

TODO:
    * Get the node that runs the nginx node and display it..
    * Create the nginx pod before other pods (for cluster-ip reservation)